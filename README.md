# STM32 Fan Control Module

–ú–æ–¥—É–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–º –¥–ª—è STM32 –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.

## üìã –ó–º—ñ—Å—Ç

- [–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](#-—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è](#-–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](#-api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)
- [–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#-–ø—Ä–∏–∫–ª–∞–¥-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)

---

## üìÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
core/
‚îú‚îÄ‚îÄ Inc/
‚îÇ   ‚îú‚îÄ‚îÄ adc_handler.h
‚îÇ   ‚îú‚îÄ‚îÄ temperature_sensor.h
‚îÇ   ‚îî‚îÄ‚îÄ fan_control.h
‚îî‚îÄ‚îÄ Src/
    ‚îú‚îÄ‚îÄ adc_handler.c
    ‚îú‚îÄ‚îÄ temperature_sensor.c
    ‚îî‚îÄ‚îÄ fan_control.c
```

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ö—Ä–æ–∫ 1: –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤

```bash
cp Inc/*.h   your_project/Core/Inc/
cp Src/*.c   your_project/Core/Src/
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è STM32CubeMX

**ADC1 –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
```
Mode: Scan Mode Enabled
Continuous Conversion: Enabled
DMA: Circular Mode, Normal Priority
Channels: 
  - Channel 0 (NTC1)
  - Channel 1 (NTC2)
  - Temperature Sensor (Internal)
Sampling Time: 239.5 Cycles
Data Alignment: Right
Number of Conversion: 3
```

**Timer3 –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
```
Mode: PWM Generation CH1
Prescaler: 0
Counter Period: 2879
(–ß–∞—Å—Ç–æ—Ç–∞ PWM = 72MHz / 2880 = 25 kHz)
```

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤ main.c

```c
/* USER CODE BEGIN Includes */
#include "adc_handler.h"
#include "temperature_sensor.h"
#include "fan_control.h"
/* USER CODE END Includes */

/* USER CODE BEGIN PV */
ADC_Handler_t adc_handler;
/* USER CODE END PV */

/* USER CODE BEGIN 2 */
ADCHandler_Init(&hadc1, &adc_handler);
ADCHandler_Start(&adc_handler);
FanControl_Init(&htim3);
/* USER CODE END 2 */

/* USER CODE BEGIN WHILE */
while (1) {
    uint32_t adc_ntc1 = ADCHandler_GetNTC1(&adc_handler);
    uint32_t adc_ntc2 = ADCHandler_GetNTC2(&adc_handler);
    
    float temp1 = TemperatureSensor_CalculateNTC(adc_ntc1);
    float temp2 = TemperatureSensor_CalculateNTC(adc_ntc2);
    float max_temp = TemperatureSensor_GetMax(temp1, temp2);
    
    FanControl_Update(max_temp);
    
    HAL_Delay(100);
}
/* USER CODE END WHILE */
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ñ –ø–æ—Ä–æ–≥–∏

–§–∞–π–ª: `fan_control.h`

```c
#define FAN_T_OFF        15.0f   // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–∏–º–∫–Ω–µ–Ω–Ω—è (¬∞C)
#define FAN_T_MIN        25.0f   // –ü–æ—á–∞—Ç–æ–∫ —Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è (¬∞C)
#define FAN_T_MAX        30.0f   // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (¬∞C)
#define FAN_MIN_DUTY     0.42f   // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (0.0-1.0)
```

**–õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:**
```
T < 15¬∞C      ‚Üí –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –≤–∏–º–∫–Ω–µ–Ω–æ (0%)
15¬∞C ‚â§ T < 25¬∞C ‚Üí –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (42%)
25¬∞C ‚â§ T < 30¬∞C ‚Üí –õ—ñ–Ω—ñ–π–Ω–µ —Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è (42% - 100%)
T ‚â• 30¬∞C      ‚Üí –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (100%)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ NTC —Ç–µ—Ä–º—ñ—Å—Ç–æ—Ä–∞

–§–∞–π–ª: `temperature_sensor.h`

```c
#define VREF            3.3f      // –û–ø–æ—Ä–Ω–∞ –Ω–∞–ø—Ä—É–≥–∞ ADC (V)
#define ADC_MAX         4095.0f   // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è ADC
#define R_FIXED         10000.0f  // –†–µ–∑–∏—Å—Ç–æ—Ä –¥—ñ–ª—å–Ω–∏–∫–∞ –Ω–∞–ø—Ä—É–≥–∏ (Œ©)
#define R0              10000.0f  // –û–ø—ñ—Ä NTC –ø—Ä–∏ 25¬∞C (Œ©)
#define BETA            3950.0f   // Beta –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç NTC
#define T0              298.15f   // 25¬∞C —É –ö–µ–ª—å–≤—ñ–Ω–∞—Ö
```

**–Ø–∫ –∑–Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤–∞—à–æ–≥–æ NTC:**
- `R0` - –¥–∏–≤—ñ—Ç—å—Å—è —É datasheet (–æ–ø—ñ—Ä –ø—Ä–∏ 25¬∞C)
- `BETA` - –¥–∏–≤—ñ—Ç—å—Å—è —É datasheet (–∑–∞–∑–≤–∏—á–∞–π 3950 –∞–±–æ 4300)
- `R_FIXED` - –æ–ø—ñ—Ä —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞ –≤ –¥—ñ–ª—å–Ω–∏–∫—É –Ω–∞–ø—Ä—É–≥–∏

### PWM –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

–§–∞–π–ª: `fan_control.h`

```c
#define FAN_PWM_MAX      2879.0f  // –ü–µ—Ä—ñ–æ–¥ —Ç–∞–π–º–µ—Ä–∞ (ARR)
```

**–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–µ—Ä—ñ–æ–¥—É –¥–ª—è –ø–æ—Ç—Ä—ñ–±–Ω–æ—ó —á–∞—Å—Ç–æ—Ç–∏:**
```
Period = (Timer_Clock / PWM_Frequency) - 1

–ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è 25 kHz –ø—Ä–∏ 72 MHz:
Period = (72,000,000 / 25,000) - 1 = 2879
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞ MCU

–§–∞–π–ª: `temperature_sensor.h`

```c
#define CORE_TEMP_V25   1.43f     // –ù–∞–ø—Ä—É–≥–∞ –ø—Ä–∏ 25¬∞C (V)
#define CORE_TEMP_SLOPE 0.0043f   // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç (V/¬∞C)
#define CORE_TEMP_OFFSET 25.0f    // –ó–º—ñ—â–µ–Ω–Ω—è (¬∞C)
```

*–¶—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –¥–ª—è STM32F1, –¥–ª—è —ñ–Ω—à–∏—Ö —Å–µ—Ä—ñ–π –¥–∏–≤—ñ—Ç—å—Å—è datasheet.*

## üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### ADC Handler

#### `void ADCHandler_Init(ADC_HandleTypeDef *hadc, ADC_Handler_t *handler)`
–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è ADC handler.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `hadc` - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ HAL ADC handle (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `&hadc1`)
- `handler` - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `ADC_Handler_t`

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
ADC_Handler_t adc_handler;
ADCHandler_Init(&hadc1, &adc_handler);
```

---

#### `void ADCHandler_Start(ADC_Handler_t *handler)`
–ó–∞–ø—É—Å–∫ ADC –∑ DMA —É –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `handler` - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É handler

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
ADCHandler_Start(&adc_handler);
```

---

#### `uint32_t ADCHandler_GetNTC1(ADC_Handler_t *handler)`
–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü –¥–ª—è NTC1.

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –ó–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü (0-4095)

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
uint32_t adc_value = ADCHandler_GetNTC1(&adc_handler);
```

---

#### `uint32_t ADCHandler_GetNTC2(ADC_Handler_t *handler)`
–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü –¥–ª—è NTC2.

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –ó–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü (0-4095)

---

#### `uint32_t ADCHandler_GetCoreTemp(ADC_Handler_t *handler)`
–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ MCU.

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –ó–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü (0-4095)

---

### Temperature Sensor

#### `float TemperatureSensor_CalculateNTC(uint32_t adc_value)`
–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∑ NTC —Ç–µ—Ä–º—ñ—Å—Ç–æ—Ä–∞ –∑–∞ —Ä—ñ–≤–Ω—è–Ω–Ω—è–º –°—Ç–µ–π–Ω—Ö–∞—Ä—Ç–∞-–•–∞—Ä—Ç–∞.

**–§–æ—Ä–º—É–ª–∞:**
```
1/T = 1/T‚ÇÄ + (1/Œ≤) √ó ln(R/R‚ÇÄ)
T - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –ö–µ–ª—å–≤—ñ–Ω–∞—Ö
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `adc_value` - –∑–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü (0-4095)

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å—ñ—è

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
uint32_t raw = ADCHandler_GetNTC1(&adc_handler);
float temp = TemperatureSensor_CalculateNTC(raw);  // –ù–∞–ø—Ä–∏–∫–ª–∞–¥: 25.3
```

---

#### `float TemperatureSensor_CalculateCore(uint32_t adc_value)`
–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ —è–¥—Ä–∞ MCU.

**–§–æ—Ä–º—É–ª–∞:**
```
T = ((V‚ÇÇ‚ÇÖ - V) / Slope) + 25
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `adc_value` - –∑–Ω–∞—á–µ–Ω–Ω—è –ê–¶–ü –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —è–¥—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å—ñ—è

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
uint32_t raw = ADCHandler_GetCoreTemp(&adc_handler);
float temp = TemperatureSensor_CalculateCore(raw);  // –ù–∞–ø—Ä–∏–∫–ª–∞–¥: 42.7
```

---

#### `float TemperatureSensor_GetMax(float temp1, float temp2)`
–ó–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∑ –¥–≤–æ—Ö –∑–Ω–∞—á–µ–Ω—å.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `temp1` - –ø–µ—Ä—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
- `temp2` - –¥—Ä—É–≥–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
float max = TemperatureSensor_GetMax(23.5f, 28.2f);  // –†–µ–∑—É–ª—å—Ç–∞—Ç: 28.2
```

---

### Fan Control

#### `void FanControl_Init(TIM_HandleTypeDef *htim)`
–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥—É–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `htim` - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ HAL Timer handle (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `&htim3`)

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
FanControl_Init(&htim3);
```

---

#### `float FanControl_CalculateDuty(float temperature)`
–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è PWM –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∑–≥—ñ–¥–Ω–æ –∑ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `temperature` - –ø–æ—Ç–æ—á–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å—ñ—è

**–ü–æ–≤–µ—Ä—Ç–∞—î:** –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è (0.0 - 1.0)

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
float duty = FanControl_CalculateDuty(27.5f);  // –†–µ–∑—É–ª—å—Ç–∞—Ç: ~0.63
```

---

#### `void FanControl_SetSpeed(float duty)`
–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ PWM.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `duty` - –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è (0.0 = 0%, 1.0 = 100%)

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ó–Ω–∞—á–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±–º–µ–∂—É—î—Ç—å—Å—è –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º [0.0, 1.0]

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
FanControl_SetSpeed(0.5f);   // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ 50% —à–≤–∏–¥–∫–æ—Å—Ç—ñ
FanControl_SetSpeed(0.75f);  // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ 75% —à–≤–∏–¥–∫–æ—Å—Ç—ñ
FanControl_SetSpeed(1.0f);   // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ 100% —à–≤–∏–¥–∫–æ—Å—Ç—ñ
```

---

#### `void FanControl_Update(float temperature)`
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏.

–¶—è —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î `FanControl_CalculateDuty()` —Ç–∞ `FanControl_SetSpeed()` –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `temperature` - –ø–æ—Ç–æ—á–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å—ñ—è

**–ü—Ä–∏–∫–ª–∞–¥:**
```c
FanControl_Update(28.5f);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —à–≤–∏–¥–∫—ñ—Å—Ç—å
```

---

## üí° –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ duty cycle

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –Ω–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω—É —à–≤–∏–¥–∫—ñ—Å—Ç—å (–±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é):

```c
// –£ main.c

/* USER CODE BEGIN 2 */
FanControl_Init(&htim3);

// –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ñ—ñ–∫—Å–æ–≤–∞–Ω—É —à–≤–∏–¥–∫—ñ—Å—Ç—å 60%
FanControl_SetSpeed(0.6f);
/* USER CODE END 2 */

/* USER CODE BEGIN WHILE */
while (1) {
    // –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –ø—Ä–∞—Ü—é—î –Ω–∞ 60% –ø–æ—Å—Ç—ñ–π–Ω–æ
    HAL_Delay(1000);
}
/* USER CODE END WHILE */
```

**–í–∞—Ä—ñ–∞–Ω—Ç–∏ —à–≤–∏–¥–∫–æ—Å—Ç—ñ:**
```c
FanControl_SetSpeed(0.0f);    // –í–∏–º–∫–Ω–µ–Ω–æ (0%)
FanControl_SetSpeed(0.25f);   // –ü–æ–≤—ñ–ª—å–Ω–æ (25%)
FanControl_SetSpeed(0.5f);    // –°–µ—Ä–µ–¥–Ω—å–æ (50%)
FanControl_SetSpeed(0.75f);   // –®–≤–∏–¥–∫–æ (75%)
FanControl_SetSpeed(1.0f);    // –ú–∞–∫—Å–∏–º—É–º (100%)
```

---
